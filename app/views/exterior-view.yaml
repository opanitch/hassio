path: exterior
title: Exterior
badges:
  - entity: sun.sun
  - entity: sensor.front_door_lock_alarmtype
  - entity: sensor.front_door_lock_alarmlevel
  - entity: >-
      binary_sensor.front_door_home_security_intrusion
  - entity: >-
      binary_sensor.back_gate_home_security_intrusion
  - entity: >-
      binary_sensor.sliding_glass_door_home_security_intrusion
cards:
  # front door
  - type: vertical-stack
    title: Front Door
    cards:
      - type: button
        entity: lock.front_door_lock
        tap_action:
          action: call-service
          service: >
            {% if is_state("lock.front_door_lock", "locked") %}
              lock.unlock
            {% else %}
              lock.lock
            {% endif %}
        hold_action:
          action: more-info
      - type: markdown
        entity_id: sensor.last_action
        content: >
          {% set alarmType = "" %}
          {% if is_state("sensor.front_door_lock_alarmtype", "17") %}
            {% set alarmType = "Locked with keypad (jammed)" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "18") %}
            {% set alarmType = "Locked with keypad" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "19") %}
            {% set alarmType = "Unlocked with keypad" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "21") %}
            {% set alarmType = "Locked inside or using key" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "22") %}
            {% set alarmType = "Unlocked inside or using key" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "23") %}
            {% set alarmType = "Locked with App (jammed)" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "24") %}
            {% set alarmType = "Locked with App" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "25") %}
            {% set alarmType = "Unlocked with App" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "26") %}
            {% set alarmType = "Locked automatically (jammed)" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "27") %}
            {% set alarmType = "Locked automatically" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "32") %}
            {% set alarmType = "All User Codes deleted from lock" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "112") %}
            {% set alarmType = "New User Code added to the lock" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "161") %}
            {% set alarmType = "Failed User Code attempt at Keypad" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "162") %}
            {% set alarmType = "Attempted access outside of scheduled" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "167") %}
            {% set alarmType = "Low battery level" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "168") %}
            {% set alarmType = "Critical battery level" %}
          {% elif is_state("sensor.front_door_lock_alarmtype", "169") %}
            {% set alarmType = "Battery level too low to operate lock" %}
          {% else %}
            {% set alarmType = "Unknown action: "%}{{state_attr("sensor.front_door_lock_alarmtype", "value") }}
          {% endif %}
          {% set alarmUser = "" %}
          {% if is_state("sensor.front_door_lock_alarmlevel", "0") %}
            {% set alarmUser = "System" %}
          {% elif is_state("sensor.front_door_lock_alarmlevel", "1") %}
            {% set alarmUser = "Master" %}
          {% elif is_state("sensor.front_door_lock_alarmlevel", "2") %}
            {% set alarmUser = "Jose" %}
          {% elif is_state("sensor.front_door_lock_alarmlevel", "5") %}
            {% set alarmUser = "Yariv" %}
          {% else %}
            {% set alarmUser = state_attr("sensor.front_door_lock_alarmlevel", "value") %}
          {% endif %}
          {{alarmType}} by {{alarmUser}}
        title: Last action
  # lights
  - type: vertical-stack
    title: Lights
    cards:
      - type: horizontal-stack
        cards:
          - type: light
            entity: light.front_stoop
          - type: light
            entity: light.
      - type: horizontal-stack
        cards:
          - type: entity
            entity: light.front_stoop
          - type: entity
            entity: light.back_stoop
      - type: entities
        entities:
          - type: buttons
            entities:
              - entity: switch.front_steps_switch
                name: Front Switch
              - entity: switch.back_yard_switch
                name: Rear Switch
  # date time
  - type: sensor
    entity: sensor.date_time_dashboard
    graph: none
    name: " "
  # weather dashboard
  - type: weather-forecast
    entity: weather.openweathermap
    name: 841 Weather
    show_forecast: true
